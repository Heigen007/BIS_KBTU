(function(){"use strict";var t={18:function(t,e,n){var a=n(751),r=n(641);function s(t,e){const n=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.Wv)(n)}var o=n(262);const u={},i=(0,o.A)(u,[["render",s]]);var l=i,c=n(220),d=n(635),f=n(33),v=n(953),p=n(335);p.A.defaults.baseURL="http://91.147.92.228:3000";var h=p.A,b={class:"container"},g={class:"form-container"},m=(0,r.Lk)("h1",null,"Create Assistant",-1),k={class:"assistants-container"},y=(0,r.Lk)("h2",null,"Assistants:",-1),L=(0,r.Lk)("strong",null,"Name:",-1),C=(0,r.Lk)("br",null,null,-1),S=(0,r.Lk)("strong",null,"Id:",-1),A=(0,r.pM)({__name:"CreateAssistant",setup:function(t){var e=this,n=(0,v.KR)(""),s=(0,v.KR)(""),o=(0,v.KR)([]),u=function(){return(0,d.sH)(e,void 0,void 0,(function(){var t,e,a,r;return(0,d.YH)(this,(function(o){switch(o.label){case 0:return[4,h.post("/createAnAssistant",{instructions:n.value})];case 1:return t=o.sent(),e=t.data.assistantId,a=t.data.vectorStoreId,r=JSON.parse(localStorage.getItem("assistants")||"[]"),r.push({id:e,name:s.value,vectorStoreId:a}),localStorage.setItem("assistants",JSON.stringify(r)),i(),[2]}}))}))},i=function(){var t=JSON.parse(localStorage.getItem("assistants")||"[]");o.value=t,console.log(o)},l=function(){return(0,d.sH)(e,void 0,void 0,(function(){return(0,d.YH)(this,(function(t){return s.value="Ассистент хакатона NFactorial AI CUP 2024",n.value="Ты - ассистент на хакатоне от NFactorial. Отвечай вежливо. Если в файлах нет ответа на вопрос клиента - предлагай связаться по контактам. Самое главное - если в предоставленной информации нет ответа - ни в коем случае не придумывать ответ. Отвечать ТОЛЬКО на те вопросы, ответы на которые есть в предоставленном контексте. Контактные телефоны: 8 707 696 60 35 Асель, 8 701 986 73 33 Алибек",[2]}))}))};return(0,r.sV)((function(){i()})),function(t,e){var i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("div",g,[m,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.value=t}),placeholder:"Enter assistant name",class:"input-field"},null,512),[[a.Jo,s.value]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.value=t}),placeholder:"Enter assistant instructions",class:"input-field"},null,512),[[a.Jo,n.value]]),(0,r.Lk)("button",{onClick:l,class:"add-stub-files-button"},"Load Stub Data"),(0,r.Lk)("button",{onClick:u,class:"create-button"},"Create Assistant")]),(0,r.Lk)("div",k,[y,(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.value,(function(t){return(0,r.uX)(),(0,r.CE)("li",{key:t.id,class:"assistant-item"},[(0,r.Lk)("div",null,[L,(0,r.eW)(" "+(0,f.v_)(t.name),1),C,S,(0,r.eW)(" "+(0,f.v_)(t.id),1)]),(0,r.bF)(i,{to:"/manage/".concat(t.id,"/").concat(t.vectorStoreId),class:"manage-link"},{default:(0,r.k6)((function(){return[(0,r.eW)("Manage")]})),_:2},1032,["to"])])})),128))])])])}}});const I=A;var w=I,F={class:"container"},O={class:"form-container"},E=(0,r.Lk)("h1",null,"Manage Assistant",-1),H=(0,r.pM)({__name:"ManageAssistant",setup:function(t){var e=this,n=(0,c.lq)(),a=(0,c.rd)(),s=n.params.id,o=n.params.vectorStoreId,u=(0,v.KR)(null),i=function(t){var e=t.target;u.value=e.files},l=function(){return(0,d.sH)(e,void 0,void 0,(function(){var t,e;return(0,d.YH)(this,(function(n){switch(n.label){case 0:if(!u.value)return[2];t=new FormData,t.append("vectorStoreId",o.toString()),Array.from(u.value).forEach((function(e){t.append("files",e)})),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,p.A.post("/addFileToAssistant",t,{headers:{"Content-Type":"multipart/form-data"}})];case 2:return n.sent(),alert("Files added successfully"),[3,4];case 3:return e=n.sent(),console.error(e),alert("Failed to add files"),[3,4];case 4:return[2]}}))}))},f=function(){return(0,d.sH)(e,void 0,void 0,(function(){var t,e,n;return(0,d.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,p.A.post("/createThread")];case 1:return t=r.sent(),e=t.data.id,a.push("/chat/".concat(e,"/").concat(s)),[3,3];case 2:return n=r.sent(),console.error(n),alert("Failed to start chat"),[3,3];case 3:return[2]}}))}))},h=function(){return(0,d.sH)(e,void 0,void 0,(function(){var t;return(0,d.YH)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,p.A.post("/addStubFilesToAssistant",{vectorStoreId:o})];case 1:return e.sent(),alert("Stub files added successfully"),[3,3];case 2:return t=e.sent(),console.error(t),alert("Failed to add stub files"),[3,3];case 3:return[2]}}))}))};return function(t,e){return(0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("div",O,[E,(0,r.Lk)("input",{type:"file",onChange:i,multiple:"",class:"file-input"},null,32),(0,r.Lk)("button",{onClick:l,class:"add-files-button"},"Add Files")]),(0,r.Lk)("button",{onClick:h,class:"add-stub-files-button"},"Load Stub Files"),(0,r.Lk)("button",{onClick:f,class:"start-chat-button"},"Start Chat")])}}});const _=H;var T=_,M={class:"chat-container"},K=(0,r.Lk)("h1",null,"Chat with Assistant",-1),j={class:"messages-container"},R={class:"input-container"},X=(0,r.pM)({__name:"ChatAssistant",setup:function(t){var e=this,n=(0,c.lq)(),s=n.params.assistantId,o=(0,v.KR)(n.params.threadId),u=(0,v.KR)(""),i=(0,v.KR)([]),l=function(){return(0,d.sH)(e,void 0,void 0,(function(){var t,e;return(0,d.YH)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,p.A.get("/getThreadMessages?threadId=".concat(o.value))];case 1:return t=n.sent(),t.data.messages.reverse(),t.data.messages.forEach((function(t,e){i.value.push({id:e,role:t.role,content:t.content[0].text.value})})),[3,3];case 2:return e=n.sent(),console.error(e),alert("Failed to fetch messages"),[3,3];case 3:return[2]}}))}))},h=function(){return(0,d.sH)(e,void 0,void 0,(function(){var t,e;return(0,d.YH)(this,(function(n){switch(n.label){case 0:if(!u.value)return[2];i.value.push({id:i.value.length,role:"user",content:u.value}),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,p.A.post("/addMessageToThread",{threadId:o.value,assistantId:s,message:u.value})];case 2:return t=n.sent(),i.value.push({id:i.value.length,role:"assistant",content:t.data.answer}),[3,5];case 3:return e=n.sent(),console.error(e),alert("Failed to send message"),[3,5];case 4:return u.value="",[7];case 5:return[2]}}))}))};return(0,r.sV)(l),function(t,e){return(0,r.uX)(),(0,r.CE)("div",M,[K,(0,r.Lk)("div",j,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value,(function(t,e){return(0,r.uX)(),(0,r.CE)("div",{key:e,class:(0,f.C4)(["message",t.role])},[(0,r.Lk)("strong",null,(0,f.v_)(t.role)+":",1),(0,r.eW)(" "+(0,f.v_)(t.content),1)],2)})),128))]),(0,r.Lk)("div",R,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return u.value=t}),placeholder:"Type your message",class:"message-input"},null,512),[[a.Jo,u.value]]),(0,r.Lk)("button",{onClick:h,class:"send-button"},"Send")])])}}});const Y=X;var J=Y,N=[{path:"/",component:w},{path:"/manage/:id/:vectorStoreId",component:T},{path:"/chat/:threadId/:assistantId",component:J}],x=(0,c.aE)({history:(0,c.LA)(),routes:N}),P=x;(0,a.Ef)(l).use(P).mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var s=e[a]={exports:{}};return t[a](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,r,s){if(!a){var o=1/0;for(c=0;c<t.length;c++){a=t[c][0],r=t[c][1],s=t[c][2];for(var u=!0,i=0;i<a.length;i++)(!1&s||o>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[i])}))?a.splice(i--,1):(u=!1,s<o&&(o=s));if(u){t.splice(c--,1);var l=r();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[a,r,s]}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,s,o=a[0],u=a[1],i=a[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(i)var c=i(n)}for(e&&e(a);l<o.length;l++)s=o[l],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(18)}));a=n.O(a)})();
//# sourceMappingURL=app.de046b50.js.map